<!doctype html>
<html>
  <head>
    <title>Test</title>
    <link rel="stylesheet" type="text/css" href="/public/css/standards.css"/>
    <script type="application/javascript" src="/public/lib/jquery-1.7.2.min.js"></script>
    <script type="application/javascript" src="/public/lib/underscore-min.js"></script>
  </head>
  <body>
    <div id="main">
      <h1>Standards</h1>
      <div id="list">
	<table id="list-view">
	  <tr>
	    <th>Standard</th>
	    <th>Current</th>
	    <th>Actions</th>
	  </tr>
	</table>
      </div>
      <div id="tagcloud">
      </div>
      <div id="form">
	<form id="stdform" method="post" action="">
	  <input type="hidden" id="_id" value=""/>
	  <div id="name-wrap">
	    <label for="name">Name</label>
	    <input id="name" type="text"/>
	  </div>
	  <div id="current-wrap">
	    <label for="current">Current</label>
	    <textarea id="current" rows="3"></textarea>
	  </div>
	  <div id="emerging-wrap">
	    <label for="emerging">Emerging</label>
	    <textarea id="emerging" rows="3"></textarea>
	  </div>
	  <div id="deprecated-wrap">
	    <label for="deprecated">Deprecated</label>
	    <textarea id="deprecated" rows="3"></textarea>
	  </div>
	  <div id="obsolete-wrap">
	    <label for="obsolete">Obsolete</label>
	    <textarea id="obsolete" rows="3"></textarea>
	  </div>
	  <div id="tags-wrap">
	    <label for="tags">Tags (comma separated)</label>
	    <input id="tags" type="text"/>
	  </div>
          <div id="edit-buttons-wrap">
	    <input type="submit" value="Submit" id="submit"></input>
	    <button id="newb">New</button>
	  </div>
	</form>
      </div>
    </div>
    <script type="application/javascript" src="/public/js/std-client.js"></script>
   <script type="text/javascript">
     $(document).ready(function(){
       $("#newb").click(function() { View.clearForm(); });
       View.listElement = "#list-view";
       $("#form").submit(function() {
         View.processForm("#form",Standard.addOrUpdate);
         return false;
       });
       Standard.getAllStandards(function() { 
               var stds = Standard.getFilteredStandards();
               View.showSomeStandards(stds);
               View.populateFormFromStandard("#form",stds[0]);
       });
     });
   </script>
  </body>
</html>
