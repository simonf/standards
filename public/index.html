<!doctype html>
<html>
  <head>
    <title>Test</title>
    <link rel="stylesheet" type="text/css" href="/public/css/standards.css"/>
    <script type="application/javascript" src="/public/lib/jquery-1.7.2.min.js"></script>
    <script type="application/javascript" src="/public/lib/jquery.cookie.js"></script>
    <script type="application/javascript" src="/public/lib/underscore-min.js"></script>
    <script type="application/javascript" src="/public/js/shim.js"></script>
  </head>
  <body>
    <header>
      <div id="banner">
	<h1>Standards</h1>
      </div>
      <div id="login-wrapper">
	<div id="login-block">
	  <form action="/login" method="post">
	    <div id="username-block">
	      <label>username:</label>
	      <input id="username-in" type="text" name="username"/>
	    </div>
	    <div id="pwd-block">
	      <label>password:</label>
	      <input id="pwd-in" type="password" name="password"/>
	    </div>
	    <input id="submit-login" type="submit" value="Login"/>
	  </form>
	</div>
	<div id="logout-block" style="display:none">
	  <p>logged in as 
	    <span id="current-username">nobody</span>&nbsp;
	    <a href="/logout">logout</a>
	  </p>
	</div>
      </div>
    </header>
    <div id="main">
      <div id="list">
	<div id="topstrip">
	  <button id="newb">New</button>
	  <div id="searchheader">
	    <input id="searchfilter" type="text"/>
	    <button id="filter-set">Filter</button>
	    <button id="filter-clear">Clear</button>
	  </div>
	</div>
	<div id="list-view">
	</div>
      </div>
      <div id="tags">
	<div id="tagheader">
	  <p>Showing only tags: <span id="selectedtags"/></p>
	</div>
	<div id="tagcloud">
	</div>
      </div>
    </div>
    <script type="application/javascript" src="/public/js/standard.js"></script>
    <script type="application/javascript" src="/public/js/view.js"></script>
    <script type="application/javascript" src="/public/js/template.js"></script>
    <script type="text/javascript">
     $(document).ready(function(){
       $("button#newb").click(function() { View.showNewForm(); });
       $("button#filter-set").click(function() { View.doSearch(); });
       $("button#filter-clear").click(function() { View.clearSearch(); });
       View.setLoggedInOrOut();
       Standard.getAllStandards(function() { 
               View.showFilteredStandards();
               View.showTagList();
       });
     });
    </script>
  </body>
</html>
